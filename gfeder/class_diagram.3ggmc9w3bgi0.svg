<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="916px" preserveAspectRatio="none" style="width:691px;height:916px;background:#FFFFFF;" version="1.1" viewBox="0 0 691 916" width="691px" zoomAndPan="magnify"><defs><filter height="300%" id="f1a3pqnd311bf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[5a17311c671e45cbe314c95537a4bb2a]
cluster database/sql--><polygon fill="#FFFFFF" filter="url(#f1a3pqnd311bf)" points="134,603,229,603,236,628.1201,295,628.1201,295,705,134,705,134,603" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="134" x2="236" y1="628.1201" y2="628.1201"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="89" x="138" y="621.0439">database/sql</text><!--MD5=[62db8e4c2d9e0408f5650e8d9a685ff5]
class DB--><rect codeLine="90" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="48" id="DB" style="stroke:#A80036;stroke-width:1.5;" width="49" x="150.5" y="641"/><ellipse cx="165.5" cy="657" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M164.9219,662.8594 Q162.8906,662.8594 161.7031,661.3594 Q160.5313,659.8594 160.5313,656.75 Q160.5313,654.1094 161.7813,652.3438 Q163.0313,650.5625 165.1875,650.5625 Q165.7031,650.5625 166.2344,650.7031 Q166.6719,650.8906 166.9219,650.8906 Q167.1094,650.8906 167.2031,650.8594 Q167.2969,650.8125 167.8438,650.0938 L168.6563,654.0625 L167.6094,654.375 Q167.1563,652.875 166.5625,652.2969 Q165.9844,651.7031 165.0625,651.7031 Q163.8906,651.7031 163.1875,653.1094 Q162.4844,654.5 162.4844,656.6719 Q162.4844,659.0625 163.0781,660.3281 Q163.6875,661.5781 165,661.5781 Q165.9219,661.5781 166.5938,660.9063 Q167.2656,660.2188 167.5938,658.6406 L168.6406,659.1406 Q168.2344,660.9063 167.25,661.8906 Q166.2656,662.8594 164.9219,662.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="17" x="179.5" y="662.5576">DB</text><line style="stroke:#A80036;stroke-width:1.5;" x1="151.5" x2="198.5" y1="673" y2="673"/><line style="stroke:#A80036;stroke-width:1.5;" x1="151.5" x2="198.5" y1="681" y2="681"/><!--MD5=[4316b7ffbaef053820f2df0c30a9905a]
class Tx--><rect codeLine="91" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="48" id="Tx" style="stroke:#A80036;stroke-width:1.5;" width="44" x="235" y="641"/><ellipse cx="250" cy="657" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M249.4219,662.8594 Q247.3906,662.8594 246.2031,661.3594 Q245.0313,659.8594 245.0313,656.75 Q245.0313,654.1094 246.2813,652.3438 Q247.5313,650.5625 249.6875,650.5625 Q250.2031,650.5625 250.7344,650.7031 Q251.1719,650.8906 251.4219,650.8906 Q251.6094,650.8906 251.7031,650.8594 Q251.7969,650.8125 252.3438,650.0938 L253.1563,654.0625 L252.1094,654.375 Q251.6563,652.875 251.0625,652.2969 Q250.4844,651.7031 249.5625,651.7031 Q248.3906,651.7031 247.6875,653.1094 Q246.9844,654.5 246.9844,656.6719 Q246.9844,659.0625 247.5781,660.3281 Q248.1875,661.5781 249.5,661.5781 Q250.4219,661.5781 251.0938,660.9063 Q251.7656,660.2188 252.0938,658.6406 L253.1406,659.1406 Q252.7344,660.9063 251.75,661.8906 Q250.7656,662.8594 249.4219,662.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="12" x="264" y="662.5576">Tx</text><line style="stroke:#A80036;stroke-width:1.5;" x1="236" x2="278" y1="673" y2="673"/><line style="stroke:#A80036;stroke-width:1.5;" x1="236" x2="278" y1="681" y2="681"/><!--MD5=[d656234b84b2d1e0349e19f6a14df447]
class Dialect--><rect codeLine="2" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="78.0459" id="Dialect" style="stroke:#A80036;stroke-width:1.5;" width="90" x="25" y="626"/><ellipse cx="49" cy="642" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M45.5938,636.7813 L45.5938,635.6875 L51.5938,635.6875 L51.5938,636.7813 L49.7188,636.7813 Q49.5781,636.7813 49.5156,636.8281 Q49.4688,636.8594 49.4688,636.9688 L49.4688,646.4531 Q49.4688,646.5625 49.5156,646.6094 Q49.5781,646.6406 49.7188,646.6406 L51.5938,646.6406 L51.5938,647.7344 L45.5938,647.7344 L45.5938,646.6406 L47.4688,646.6406 Q47.6563,646.6406 47.6875,646.6094 Q47.7188,646.5781 47.7188,646.4531 L47.7188,636.9688 Q47.7188,636.8438 47.6875,636.8125 Q47.6563,636.7813 47.4688,636.7813 L45.5938,636.7813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="38" x="65" y="647.5576">Dialect</text><line style="stroke:#A80036;stroke-width:1.5;" x1="26" x2="114" y1="658" y2="658"/><line style="stroke:#A80036;stroke-width:1.5;" x1="26" x2="114" y1="666" y2="666"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="31" y="682.606">DataTypeOf()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="31" y="697.6289">TableExistSQL()</text><!--MD5=[8232d81ace57f268db1f0cb748289bc5]
class CommonDB--><rect codeLine="7" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="93.0688" id="CommonDB" style="stroke:#A80036;stroke-width:1.5;" width="101" x="168.5" y="217.5"/><ellipse cx="183.5" cy="233.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M180.0938,228.2813 L180.0938,227.1875 L186.0938,227.1875 L186.0938,228.2813 L184.2188,228.2813 Q184.0781,228.2813 184.0156,228.3281 Q183.9688,228.3594 183.9688,228.4688 L183.9688,237.9531 Q183.9688,238.0625 184.0156,238.1094 Q184.0781,238.1406 184.2188,238.1406 L186.0938,238.1406 L186.0938,239.2344 L180.0938,239.2344 L180.0938,238.1406 L181.9688,238.1406 Q182.1563,238.1406 182.1875,238.1094 Q182.2188,238.0781 182.2188,237.9531 L182.2188,228.4688 Q182.2188,228.3438 182.1875,228.3125 Q182.1563,228.2813 181.9688,228.2813 L180.0938,228.2813 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="69" x="197.5" y="239.0576">CommonDB</text><line style="stroke:#A80036;stroke-width:1.5;" x1="169.5" x2="268.5" y1="249.5" y2="249.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="169.5" x2="268.5" y1="257.5" y2="257.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="174.5" y="274.106">Query()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="174.5" y="289.1289">QueryRow()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="174.5" y="304.1519">QueryRows()</text><!--MD5=[c86ce95fe6226f2d2796c0513d8e83fe]
class Engine--><rect codeLine="13" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="138.1377" id="Engine" style="stroke:#A80036;stroke-width:1.5;" width="126" x="7" y="195"/><ellipse cx="46.75" cy="211" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M46.1719,216.8594 Q44.1406,216.8594 42.9531,215.3594 Q41.7813,213.8594 41.7813,210.75 Q41.7813,208.1094 43.0313,206.3438 Q44.2813,204.5625 46.4375,204.5625 Q46.9531,204.5625 47.4844,204.7031 Q47.9219,204.8906 48.1719,204.8906 Q48.3594,204.8906 48.4531,204.8594 Q48.5469,204.8125 49.0938,204.0938 L49.9063,208.0625 L48.8594,208.375 Q48.4063,206.875 47.8125,206.2969 Q47.2344,205.7031 46.3125,205.7031 Q45.1406,205.7031 44.4375,207.1094 Q43.7344,208.5 43.7344,210.6719 Q43.7344,213.0625 44.3281,214.3281 Q44.9375,215.5781 46.25,215.5781 Q47.1719,215.5781 47.8438,214.9063 Q48.5156,214.2188 48.8438,212.6406 L49.8906,213.1406 Q49.4844,214.9063 48.5,215.8906 Q47.5156,216.8594 46.1719,216.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="66.25" y="216.5576">Engine</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="132" y1="227" y2="227"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="235"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="27" y="243.606">db      *sql.DB</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="250.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="100" x="27" y="258.6289">dialect dialect.Dialect</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="132" y1="265.0459" y2="265.0459"/><ellipse cx="18" cy="276.0459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="27" y="281.6519">NewSession()</text><ellipse cx="18" cy="291.0688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="27" y="296.6748">Transaction()</text><ellipse cx="18" cy="306.0918" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="43" x="27" y="311.6978">Migrate()</text><ellipse cx="18" cy="321.1147" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="27" y="326.7207">Close()</text><!--MD5=[2ca1536628238a7dc78c5d90808014f9]
class Session--><rect codeLine="23" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="513.7114" id="Session" style="stroke:#A80036;stroke-width:1.5;" width="153" x="304.5" y="7"/><ellipse cx="353.75" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M353.1719,28.8594 Q351.1406,28.8594 349.9531,27.3594 Q348.7813,25.8594 348.7813,22.75 Q348.7813,20.1094 350.0313,18.3438 Q351.2813,16.5625 353.4375,16.5625 Q353.9531,16.5625 354.4844,16.7031 Q354.9219,16.8906 355.1719,16.8906 Q355.3594,16.8906 355.4531,16.8594 Q355.5469,16.8125 356.0938,16.0938 L356.9063,20.0625 L355.8594,20.375 Q355.4063,18.875 354.8125,18.2969 Q354.2344,17.7031 353.3125,17.7031 Q352.1406,17.7031 351.4375,19.1094 Q350.7344,20.5 350.7344,22.6719 Q350.7344,25.0625 351.3281,26.3281 Q351.9375,27.5781 353.25,27.5781 Q354.1719,27.5781 354.8438,26.9063 Q355.5156,26.2188 355.8438,24.6406 L356.8906,25.1406 Q356.4844,26.9063 355.5,27.8906 Q354.5156,28.8594 353.1719,28.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="46" x="374.25" y="28.5576">Session</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305.5" x2="456.5" y1="39" y2="39"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="47"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="68" x="324.5" y="55.606">db       *sql.DB</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="62.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="324.5" y="70.6289">dialect  dialect.Dialect</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="77.0459"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="127" x="324.5" y="85.6519">refTable *schema.Schema</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="92.0688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="324.5" y="100.6748">clause   clause.Clause</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="107.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="324.5" y="115.6978">sql      strings.Builder</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="122.1147"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="324.5" y="130.7207">sqlVars  []interface{}</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="312.5" y="137.1377"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="63" x="324.5" y="145.7437">tx       *sql.Tx</text><line style="stroke:#A80036;stroke-width:1.5;" x1="305.5" x2="456.5" y1="152.1606" y2="152.1606"/><ellipse cx="315.5" cy="163.1606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="324.5" y="168.7666">Insert()</text><ellipse cx="315.5" cy="178.1836" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="324.5" y="183.7896">Find()</text><ellipse cx="315.5" cy="193.2065" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="324.5" y="198.8125">Update()</text><ellipse cx="315.5" cy="208.2295" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="38" x="324.5" y="213.8354">Delete()</text><ellipse cx="315.5" cy="223.2524" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="324.5" y="228.8584">Count()</text><ellipse cx="315.5" cy="238.2754" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="324.5" y="243.8813">Limit()</text><ellipse cx="315.5" cy="253.2983" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="324.5" y="258.9043">Where()</text><ellipse cx="315.5" cy="268.3213" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="49" x="324.5" y="273.9272">OrderBy()</text><ellipse cx="315.5" cy="283.3442" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="29" x="324.5" y="288.9502">First()</text><ellipse cx="315.5" cy="298.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="324.5" y="303.9731">Model()</text><ellipse cx="315.5" cy="313.3901" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="324.5" y="318.9961">RefTable()</text><ellipse cx="315.5" cy="328.4131" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="324.5" y="334.019">CreateTable()</text><ellipse cx="315.5" cy="343.436" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="324.5" y="349.042">DropTable()</text><ellipse cx="315.5" cy="358.459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="53" x="324.5" y="364.0649">HasTable()</text><ellipse cx="315.5" cy="373.4819" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="324.5" y="379.0879">DB()</text><ellipse cx="315.5" cy="388.5049" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="33" x="324.5" y="394.1108">Clear()</text><ellipse cx="315.5" cy="403.5278" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="324.5" y="409.1338">Raw()</text><ellipse cx="315.5" cy="418.5508" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="32" x="324.5" y="424.1567">Exec()</text><ellipse cx="315.5" cy="433.5737" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="324.5" y="439.1797">QueryRow()</text><ellipse cx="315.5" cy="448.5967" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="67" x="324.5" y="454.2026">QueryRows()</text><ellipse cx="315.5" cy="463.6196" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="60" x="324.5" y="469.2256">CallMethod()</text><ellipse cx="315.5" cy="478.6426" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="35" x="324.5" y="484.2485">Begin()</text><ellipse cx="315.5" cy="493.6655" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="42" x="324.5" y="499.2715">Commit()</text><ellipse cx="315.5" cy="508.6885" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="48" x="324.5" y="514.2944">Rollback()</text><!--MD5=[2f421283e4272715588b1e10d4842c5f]
class Schema--><rect codeLine="58" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="168.1836" id="Schema" style="stroke:#A80036;stroke-width:1.5;" width="154" x="314" y="581"/><ellipse cx="363.75" cy="597" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M363.1719,602.8594 Q361.1406,602.8594 359.9531,601.3594 Q358.7813,599.8594 358.7813,596.75 Q358.7813,594.1094 360.0313,592.3438 Q361.2813,590.5625 363.4375,590.5625 Q363.9531,590.5625 364.4844,590.7031 Q364.9219,590.8906 365.1719,590.8906 Q365.3594,590.8906 365.4531,590.8594 Q365.5469,590.8125 366.0938,590.0938 L366.9063,594.0625 L365.8594,594.375 Q365.4063,592.875 364.8125,592.2969 Q364.2344,591.7031 363.3125,591.7031 Q362.1406,591.7031 361.4375,593.1094 Q360.7344,594.5 360.7344,596.6719 Q360.7344,599.0625 361.3281,600.3281 Q361.9375,601.5781 363.25,601.5781 Q364.1719,601.5781 364.8438,600.9063 Q365.5156,600.2188 365.8438,598.6406 L366.8906,599.1406 Q366.4844,600.9063 365.5,601.8906 Q364.5156,602.8594 363.1719,602.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="46" x="384.25" y="602.5576">Schema</text><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="467" y1="613" y2="613"/><ellipse cx="325" cy="624" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="334" y="629.606">Model      interface{}</text><ellipse cx="325" cy="639.0229" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="334" y="644.6289">Name       string</text><ellipse cx="325" cy="654.0459" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="334" y="659.6519">Fields     []*Field</text><ellipse cx="325" cy="669.0688" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="334" y="674.6748">FieldNames []string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="322" y="681.0918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="334" y="689.6978">fieldMap   map[string]*Field</text><line style="stroke:#A80036;stroke-width:1.5;" x1="315" x2="467" y1="696.1147" y2="696.1147"/><ellipse cx="325" cy="707.1147" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="47" x="334" y="712.7207">GetField()</text><ellipse cx="325" cy="722.1377" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="36" x="334" y="727.7437">Parse()</text><ellipse cx="325" cy="737.1606" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="77" x="334" y="742.7666">RecordValues()</text><!--MD5=[d9427b671d7d049aff2d6f2fe36a13b3]
class Field--><rect codeLine="70" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="93.0688" id="Field" style="stroke:#A80036;stroke-width:1.5;" width="83" x="349.5" y="809"/><ellipse cx="375.3" cy="825" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M374.7219,830.8594 Q372.6906,830.8594 371.5031,829.3594 Q370.3313,827.8594 370.3313,824.75 Q370.3313,822.1094 371.5813,820.3438 Q372.8313,818.5625 374.9875,818.5625 Q375.5031,818.5625 376.0344,818.7031 Q376.4719,818.8906 376.7219,818.8906 Q376.9094,818.8906 377.0031,818.8594 Q377.0969,818.8125 377.6438,818.0938 L378.4563,822.0625 L377.4094,822.375 Q376.9563,820.875 376.3625,820.2969 Q375.7844,819.7031 374.8625,819.7031 Q373.6906,819.7031 372.9875,821.1094 Q372.2844,822.5 372.2844,824.6719 Q372.2844,827.0625 372.8781,828.3281 Q373.4875,829.5781 374.8,829.5781 Q375.7219,829.5781 376.3938,828.9063 Q377.0656,828.2188 377.3938,826.6406 L378.4406,827.1406 Q378.0344,828.9063 377.05,829.8906 Q376.0656,830.8594 374.7219,830.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="27" x="391.7" y="830.5576">Field</text><line style="stroke:#A80036;stroke-width:1.5;" x1="350.5" x2="431.5" y1="841" y2="841"/><ellipse cx="360.5" cy="852" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="57" x="369.5" y="857.606">Name string</text><ellipse cx="360.5" cy="867.0229" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="54" x="369.5" y="872.6289">Type string</text><ellipse cx="360.5" cy="882.0459" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;fill:none;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="51" x="369.5" y="887.6519">Tag  string</text><line style="stroke:#A80036;stroke-width:1.5;" x1="350.5" x2="431.5" y1="894.0688" y2="894.0688"/><!--MD5=[3d9a9201f4e3c24a3b32edb25b35db95]
class Clause--><rect codeLine="76" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="108.0918" id="Clause" style="stroke:#A80036;stroke-width:1.5;" width="174" x="503" y="611"/><ellipse cx="565.75" cy="627" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M565.1719,632.8594 Q563.1406,632.8594 561.9531,631.3594 Q560.7813,629.8594 560.7813,626.75 Q560.7813,624.1094 562.0313,622.3438 Q563.2813,620.5625 565.4375,620.5625 Q565.9531,620.5625 566.4844,620.7031 Q566.9219,620.8906 567.1719,620.8906 Q567.3594,620.8906 567.4531,620.8594 Q567.5469,620.8125 568.0938,620.0938 L568.9063,624.0625 L567.8594,624.375 Q567.4063,622.875 566.8125,622.2969 Q566.2344,621.7031 565.3125,621.7031 Q564.1406,621.7031 563.4375,623.1094 Q562.7344,624.5 562.7344,626.6719 Q562.7344,629.0625 563.3281,630.3281 Q563.9375,631.5781 565.25,631.5781 Q566.1719,631.5781 566.8438,630.9063 Q567.5156,630.2188 567.8438,628.6406 L568.8906,629.1406 Q568.4844,630.9063 567.5,631.8906 Q566.5156,632.8594 565.1719,632.8594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="40" x="586.25" y="632.5576">Clause</text><line style="stroke:#A80036;stroke-width:1.5;" x1="504" x2="676" y1="643" y2="643"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="511" y="651"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="106" x="523" y="659.606">sql     map[Type]string</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="511" y="666.0229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="148" x="523" y="674.6289">sqlVars map[Type][]interface{}</text><line style="stroke:#A80036;stroke-width:1.5;" x1="504" x2="676" y1="681.0459" y2="681.0459"/><ellipse cx="514" cy="692.0459" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="24" x="523" y="697.6519">Set()</text><ellipse cx="514" cy="707.0688" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="31" x="523" y="712.6748">Build()</text><!--MD5=[f390314312b9174fd9b04437f68ee226]
class sqlite3--><rect codeLine="84" fill="#FEFECE" filter="url(#f1a3pqnd311bf)" height="78.0459" id="sqlite3" style="stroke:#A80036;stroke-width:1.5;" width="104" x="18" y="816.5"/><ellipse cx="48.75" cy="832.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M48.1719,838.3594 Q46.1406,838.3594 44.9531,836.8594 Q43.7813,835.3594 43.7813,832.25 Q43.7813,829.6094 45.0313,827.8438 Q46.2813,826.0625 48.4375,826.0625 Q48.9531,826.0625 49.4844,826.2031 Q49.9219,826.3906 50.1719,826.3906 Q50.3594,826.3906 50.4531,826.3594 Q50.5469,826.3125 51.0938,825.5938 L51.9063,829.5625 L50.8594,829.875 Q50.4063,828.375 49.8125,827.7969 Q49.2344,827.2031 48.3125,827.2031 Q47.1406,827.2031 46.4375,828.6094 Q45.7344,830 45.7344,832.1719 Q45.7344,834.5625 46.3281,835.8281 Q46.9375,837.0781 48.25,837.0781 Q49.1719,837.0781 49.8438,836.4063 Q50.5156,835.7188 50.8438,834.1406 L51.8906,834.6406 Q51.4844,836.4063 50.5,837.3906 Q49.5156,838.3594 48.1719,838.3594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="37" x="66.25" y="838.0576">sqlite3</text><line style="stroke:#A80036;stroke-width:1.5;" x1="19" x2="121" y1="848.5" y2="848.5"/><line style="stroke:#A80036;stroke-width:1.5;" x1="19" x2="121" y1="856.5" y2="856.5"/><ellipse cx="29" cy="867.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="66" x="38" y="873.106">DataTypeOf()</text><ellipse cx="29" cy="882.5229" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="38" y="888.1289">TableExistSQL()</text><!--MD5=[6fd1e1fd1e13c3067a4f97e4a3ab57b2]
reverse link CommonDB to DB--><path codeLine="94" d="M211.76,330.69 C201.73,421.63 184.11,581.39 177.55,640.85 " fill="none" id="CommonDB-backto-DB" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="204.8,329.88,213.95,310.77,218.72,331.42,204.8,329.88" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9aaf9804536d949ec4c4450924182717]
reverse link CommonDB to Tx--><path codeLine="95" d="M225.26,330.69 C233.92,421.63 249.13,581.39 254.79,640.85 " fill="none" id="CommonDB-backto-Tx" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="218.29,331.34,223.36,310.77,232.22,330.02,218.29,331.34" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[34bdaf4774ca850e0dab43857381c66e]
reverse link Dialect to sqlite3--><path codeLine="96" d="M70,724.28 C70,754.27 70,789.98 70,816.41 " fill="none" id="Dialect-backto-sqlite3" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="63,724.15,70,704.15,77,724.15,63,724.15" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[a96beb47f5eabbe361a902fe991c919d]
reverse link Engine to Dialect--><path codeLine="98" d="M70,346.16 C70,431.47 70,561.98 70,625.96 " fill="none" id="Engine-backto-Dialect" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="70,333.14,66,339.14,70,345.14,74,339.14,70,333.14" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[c84c17df30f06efa33b92af85cee4663]
reverse link Engine to DB--><path codeLine="99" d="M91.27,345.82 C115.61,438.33 154.03,584.32 168.87,640.7 " fill="none" id="Engine-backto-DB" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="87.93,333.14,85.5917,339.9615,90.9891,344.7435,93.3274,337.9221,87.93,333.14" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[77985376abf36b3446c18c85497ebce7]
reverse link Session to DB--><path codeLine="101" d="M297.91,504.14 C294.4,509.9 290.77,515.54 287,521 C263.94,554.46 243.13,549.06 218,581 C203.55,599.37 191.75,623.33 184.19,640.79 " fill="none" id="Session-backto-DB" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="304.5,492.89,298.0154,496.0444,298.4331,503.2434,304.9177,500.089,304.5,492.89" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6ce3421866783e1e2c36fad46bf0e813]
reverse link Session to Dialect--><path codeLine="102" d="M296.01,511.16 C293.11,514.54 290.1,517.83 287,521 C235.92,573.21 192.42,537.16 134,581 C117.85,593.12 103.67,610.34 92.79,625.95 " fill="none" id="Session-backto-Dialect" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="304.44,500.73,297.5598,502.8893,296.9067,510.0707,303.7869,507.9115,304.44,500.73" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e0dba35ca52c8255701b5ec20b3cf09c]
reverse link Session to Schema--><path codeLine="103" d="M387.75,534.39 C388.16,550.81 388.56,566.5 388.92,580.94 " fill="none" id="Session-backto-Schema" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="387.42,521.08,383.573,527.1793,387.7235,533.0762,391.5705,526.9769,387.42,521.08" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[79f9ede37c830b3913ca966447c9d536]
reverse link Session to Clause--><path codeLine="104" d="M463.88,423.22 C498.74,489.77 536.96,562.74 562.08,610.7 " fill="none" id="Session-backto-Clause" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="457.64,411.31,456.8794,418.4809,463.2061,421.941,463.9667,414.7701,457.64,411.31" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[7eaf5fee229b6cf68138b09222c1ec7c]
reverse link Session to Tx--><path codeLine="105" d="M300.63,523.6 C285.55,572.13 272.06,615.53 264.2,640.82 " fill="none" id="Session-backto-Tx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="304.5,511.16,298.8999,515.703,300.9395,522.6196,306.5396,518.0766,304.5,511.16" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[f34d7fd6e5754e3f3397cfc91d58ac51]
reverse link Schema to Field--><path codeLine="107" d="M391,762.27 C391,778.55 391,794.75 391,808.93 " fill="none" id="Schema-backto-Field" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="391,749.23,387,755.23,391,761.23,395,755.23,391,749.23" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[1aef638f74ef4e1a1cde80fab4ea1c3e]
@startuml

interface Dialect {
    DataTypeOf()
    TableExistSQL()
}

interface CommonDB {
    Query()
    QueryRow()
    QueryRows()
}

class Engine {
    -db      *sql.DB
    -dialect dialect.Dialect

    +NewSession()
    +Transaction()
    +Migrate()
    +Close()
}

class Session {
    -db       *sql.DB
    -dialect  dialect.Dialect
    -refTable *schema.Schema
    -clause   clause.Clause
    -sql      strings.Builder
    -sqlVars  []interface{}
    -tx       *sql.Tx

    +Insert()
    +Find()
    +Update()
    +Delete()
    +Count()
    +Limit()
    +Where()
    +OrderBy()
    +First()
    +Model()
    +RefTable()
    +CreateTable()
    +DropTable()
    +HasTable()
    +DB()
    +Clear()
    +Raw()
    +Exec()
    +QueryRow()
    +QueryRows()
    +CallMethod()
    +Begin()
    +Commit()
    +Rollback()
}

class Schema {
    +Model      interface{}
    +Name       string
    +Fields     []*Field
    +FieldNames []string
    -fieldMap   map[string]*Field

    +GetField()
    +Parse()
    +RecordValues()
}

class Field {
    +Name string
    +Type string
    +Tag  string
}

class Clause {
    -sql     map[Type]string
	-sqlVars map[Type][]interface{}

    +Set()
    +Build()
}

class sqlite3 {
    +DataTypeOf()
    +TableExistSQL()
}

package database/sql {
    class DB
    class Tx
}

CommonDB <|.. DB
CommonDB <|.. Tx
Dialect <|.. sqlite3

Engine *- - Dialect
Engine *- - DB

Session *- - DB
Session *- - Dialect
Session *- - Schema
Session *- - Clause
Session *- - Tx

Schema *- - Field

@enduml

PlantUML version 1.2021.7(Sun May 23 20:40:07 CST 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>